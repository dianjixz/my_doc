 

Shell中计算模块 bc的使用
hitrjj
于 2018-10-01 21:56:57 发布 5573
收藏 12
分类专栏： 编程 文章标签： shell linux bc 计算 bash
版权
编程 专栏收录该内容
104 篇文章 5 订阅
订阅专栏
在linux终端中使用bc便捷计算


在linux终端中如果需要进行一些计算，我们可以方便的使用bc这个工具来实现基本的数学计算功能。

    bc 是basic calculator/bench calculator的简称。其语法类似于C语言，支持加减乘除还有更多复杂的运算。

1.使用方法

bc可以通过两种方式进行使用：
首先可以在bash中输入
~~~
>>> bc
>>> 1+2
>>> 3
~~~


直接进入交互模式，来进行加减乘除的运算。
此外，更为通用的是利用管道的方式来进行计算：
~~~
echo '6.5/2.7' | bc
>>> 2
>>> echo 'scale=5;6.5/2.7' | bc    #其中scale是控制小数点位数
>>> 2.40740
~~~


2.功能选项

bc有一系列功能开关：
~~~
-h, --help: 帮助.
-i, --interactive: 交互模式.
-l, --mathlib: 预置数学程序.
-q, --quiet: 安静模式.
-s, --standard: 标准bc结构输入.
-w, --warn: 非标准结构给出警告.
-v, --version: 版本号.
~~~


3.基本使用例子
~~~
#关系运算符
||, &&, !, =, ==
#基本数学运算
+， -， *, /, %, ^,
#自增，自减
++， --
#逻辑运算符
<, >, <=, >=, !=

~~~

一些特殊的表达式参数：
~~~
length()    #用于求表达式的结果长度
length(300)
3

scale()  #用于获取表达式小数点后位数
scale(3.14)
2

sqrt()  #求平方根
scale=6;sqrt(21)
4.582575

#如果使用了bc -l，可以将预置的数学运算导入
s(x)    	#sin函数,x为弧度
s(3.14)
.00159265291648695254

c(x)		#cos函数
c(0)
1.00000000000000000000

a(x)		#arctang函数
a(sqrt(2)/2)
0.61547970867038734106

l(x)		#自然对数
l(10)
2.30258509299404568401

e(x)		#自然数为底的指数函数
e(2)
7.38905609893065022723


j(n,x)	#Basel函数，n阶
j(1,3)
0.33905895852593645892
~~~


计算圆周率：
~~~
scale=10; 4*a(1) #arctan(1)--pi/4
~~~
定义函数：
~~~
define f (x) {
  if (x <= 1) return (1);
  return (f(x-1) * x);
}

f(10)
>>> 3628800
~~~
    

更详细用法：链接
ref：1,2

————————————————
版权声明：本文为CSDN博主「hitrjj」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
原文链接：https://blog.csdn.net/u014636245/article/details/82916203



bc在使用参数-l指定代数运算模式下也支持三角函数、开方、幂次等操作。
但是与matlab等语言不同的是，为了简化代码，bc中三角函数与数学上的函数名字有所不同，具体如下：
~~~
    s(x) 计算 sin(x)，以下x皆为弧度表示
    c(x) 计算 cos(x)
    a(x) 计算arctangent(x)
    l(x) 计算ln(x)
    e(x) 计算e的x次方，其中e为自然底数
    x^y 计算x的y次方
    sqrt(x) 计算根号下x
~~~~
————————————————
版权声明：本文为CSDN博主「刘好念」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
原文链接：https://blog.csdn.net/Strengthennn/article/details/121319126